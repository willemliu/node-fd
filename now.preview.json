{
    "version": 2,
    "alias": ["preview.biffy.nl"],
    "builds": [{ "src": "package.json", "use": "@now/next" }],
    "build": {
        "env": {
            "BASIC_AUTH": "@dev-bnr-basic-auth",
            "ENVIRONMENT": "PREVIEW",
            "PROXY": "@bnr-preview-proxy",
            "PREVIEW": "true"
        }
    },
    "env": {
        "BASIC_AUTH": "@dev-bnr-basic-auth",
        "ENVIRONMENT": "PREVIEW",
        "PROXY": "@bnr-preview-proxy",
        "PREVIEW": "true"
    },
    "routes": [
        {
            "src": "^/service-worker.js$",
            "dest": "/_next/static/service-worker.js",
            "headers": {
                "cache-control": "public, max-age=43200, max-age=0, immutable",
                "Service-Worker-Allowed": "/"
            }
        },
        {
            "src": "/podcast/(?<podcast>.+)$",
            "dest": "/podcast?podcast=$podcast"
        },
        {
            "src": "/(?<section>.+)/(?<subSection>.+)/(?<articleId>[\\d]+)/(?<title>.+)$",
            "dest": "/article?articleId=$articleId&section=$section&subSection=$subSection"
        },
        {
            "src": "/(.+)/(?<articleId>[\\d]+)",
            "dest": "/article?articleId=$articleId"
        },
        {
            "src": "/(.+)/(?<articleId>[\\d]+)/+.*$",
            "dest": "/article?articleId=$articleId"
        }
    ],
    "regions": ["dub1"]
}
